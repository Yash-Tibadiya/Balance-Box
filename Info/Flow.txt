# user flow

1. /home (landing - public)
2. /login (auth - public)
3. /business-info (onboarding - auth required)
4. / (dashboard - auth + business info required)

----------------------------------------

# auth methods

1. email-otp
2. google oauth

----------------------------------------

# login check

1. session exists?
2. yes → has business info?
   - yes → redirect /
   - no → redirect /business-info
3. no → show login form

----------------------------------------

# business-info check

1. session exists?
2. no → redirect /login
3. yes → show form → submit → redirect /

----------------------------------------

# logout

1. click logout
2. session destroyed
3. posthog reset
4. redirect /home

----------------------------------------

# posthog events

1. view_login_page
   - when: user views /login (not logged in)
   - properties: timestamp

2. new_user_created
   - when: user created within 60 seconds
   - properties: userId, email, name, image, createdAt, timestamp

3. user_login_successfully
   - when: existing user logs in
   - properties: userId, email, name, image, createdAt, timestamp

----------------------------------------

# quick flows

new user:
/home → /login → auth → /business-info → /

returning user:
/home → /login → auth → /

already logged in:
/login → auto redirect → / or /business-info
